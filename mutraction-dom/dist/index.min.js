"use strict";var R=Symbol("RecordMutation"),$=Symbol("TrackerOf"),D=Symbol("ProxyOf"),Y=Symbol("RecordDependency"),ge=Symbol("GetOriginal"),C=Symbol("AccessPath"),z="mu:debugMode",be=250,v=!!sessionStorage.getItem(z);function me(){sessionStorage.setItem(z,"true"),location.reload()}Object.assign(window,{[Symbol.for("mutraction.debug")]:me}),["localhost","127.0.0.1","[::1]"].includes(location.hostname)&&(console.log("[\xB5] Try the mutraction diagnostic tool.  This message is only shown from localhost"),console.log("\xBB window[Symbol.for('mutraction.debug')]()"));function we(){sessionStorage.removeItem(z),location.reload()}function ke(e){return Array.isArray(e)?`Array(${e.length})`:typeof e=="object"?"{ ... }":JSON.stringify(e)}function Z(e){const t=L(e.object),n=t?t+"."+String(e.prop):String(e.prop),i=ke(e.current),s=e.subscribers.size,c=`(${s} ${s===1?"subscriber":"subscribers"})`;return m("li",{},m("code",{},n),": ",i," ",c)}function m(e,t,...n){const i=document.createElement(e);return i.style.all="revert",Object.assign(i.style,t),i.append(...n),i}function V(e){const t=Array.from(e.childNodes).filter(n=>n instanceof Text).flatMap(n=>le(n)).filter(Boolean).map(n=>n);return(le(e)??[]).concat(...t)}if(v){let e=function(){const u=[];for(const w of M)u.push(Z(w));g.replaceChildren(...u)},t=function(){r.disabled=!0,r.textContent="\u2026";let u,w="";function T(A){if(A.target instanceof HTMLElement){let k=A.target;for(;k&&(V(k)?.length??0)===0;)k=k.parentElement;k!=u&&(u&&(u.style.boxShadow=w),w=k?.style.boxShadow??"",k&&(k.style.boxShadow?k.style.boxShadow+=", inset #f0f4 0 99vmax":k.style.boxShadow+="inset #f0f4 0 99vmax"),u=k)}A.stopPropagation()}document.addEventListener("mousemove",T,{capture:!0}),document.addEventListener("click",A=>{if(r.disabled=!1,r.textContent="\u{1F50D}",document.removeEventListener("mousemove",T,{capture:!0}),u){u.style.boxShadow=w,a.textContent=u.tagName.toLowerCase();const k=V(u),ye=new Set(k.flatMap(H=>H.trackedProperties)),X=[];for(const H of ye)X.push(Z(H));f.replaceChildren(...X)}else a.textContent="(none)",f.replaceChildren()},{capture:!0,once:!0})};ve=e,xe=t;const n=m("div",{position:"fixed",top:"50px",left:"50px",width:"30em",height:"20em",resize:"both",minHeight:"1.7em",minWidth:"15em",zIndex:"2147483647",background:"#eee",color:"#123",boxShadow:"#000 0em 0.5em 1em",border:"solid #345 0.4em",fontSize:"16px",display:"flex",flexDirection:"column",overflow:"auto"}),i=m("button",{marginRight:"1em"},"_");let s=!1;i.addEventListener("click",u=>{(s=!s)?(n.style.maxHeight="1.7em",n.style.maxWidth="15em"):(n.style.maxHeight="",n.style.maxWidth="")});const c=m("button",{float:"right"},"\xD7");c.addEventListener("click",we);const p=m("div",{fontWeight:"bold",background:"#123",color:"#eee",padding:"0.1em 1em",cursor:"grab"},c,i,"\u03BC diagnostics"),y=m("span",{},"0"),b=m("div",{},m("strong",{},"Live PropRefs: "),y),g=m("ol",{});let o=-1;setInterval(()=>{M.generation!==o&&(y.replaceChildren(String(M.sizeBound)),e(),o=M.generation)},be);const r=m("button",{},"\u{1F50D}");r.addEventListener("click",t);const a=m("span",{},"(none)"),f=m("ol",{}),d=m("div",{padding:"1em",overflow:"auto"},b,g,r," ",m("strong",{},"Inspected node:")," ",a,f);n.append(p,d),document.body.append(n);let l=0,h=0;p.addEventListener("mousedown",u=>{const w=n.getBoundingClientRect();l=u.x-w.x,h=u.y-w.y,window.addEventListener("mousemove",T),document.body.addEventListener("mouseup",A=>{window.removeEventListener("mousemove",T)},{once:!0}),u.preventDefault();function T(A){n.style.left=A.x-l+"px",n.style.top=A.y-h+"px"}})}var ve,xe,Se=["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"];function Ee(e){return typeof e=="string"?ee(e):typeof e=="number"&&(e&2147483647)===e}function ee(e){return typeof e!="string"||!/^\d{1,10}$/.test(e)?!1:parseInt(e,10)<2147483647}function Ae(e){return Object.prototype.toString.call(e)==="[object Arguments]"}function te(e,t){Object.defineProperty(e,D,{enumerable:!1,writable:!0,configurable:!1}),e[D]=t}var ne=new Set([RegExp,Promise]);"window"in globalThis&&ne.add(globalThis.window.constructor);function B(e){return!(e==null||typeof e!="object"||j(e)||!Object.isExtensible(e)||ne.has(e.constructor))}function L(e){return e[C]}function re(e,t){Object.assign(e,{[C]:t})}function U(e,t){function n(o,r,a){if(r===$)return t;if(r===ge)return o;if(r===C)return o[r];t[Y](x(o,r));let f=Reflect.get(o,r,a);if(f&&typeof f=="object"&&v){const l=L(o),h=l?l+"."+String(r):String(r);re(f,h)}if(B(f)){const l=f[D];if(l){if(l[$]!==t)throw Error("Object cannot be tracked by multiple tracker instances");f=l}else{const h=f,u=U(h,t);f=o[r]=new Proxy(h,u),te(h,f)}}if(typeof f=="function"&&t.options.autoTransactionalize&&r!=="constructor"){let l=function(){const u=t.startTransaction(h.name??"auto");try{return h.apply(a,arguments)}finally{u.operations.length>0?t.commit(u):t.rollback(u)}};var d=l;const h=f;return l}return f}function i(o,r,a){if(typeof r=="string"&&Se.includes(r)){let d=function(){const h=t.startTransaction(String(r)),u=l.apply(a,arguments);return t.commit(h),u};var f=d;const l=o[r];return d}else return n(o,r,a)}let s=0;function c(o,r,a,f){if(r===C)return Reflect.set(o,C,a);if(a&&typeof a=="object"&&v){const u=(L(o)??"~")+"."+String(r);re(a,u)}if(B(a)){const u=U(a,t);a=new Proxy(a,u)}const d=r in o?{type:"change",target:o,name:r,oldValue:e[r],newValue:a,timestamp:new Date}:{type:"create",target:o,name:r,newValue:a,timestamp:new Date},l=s,h=Reflect.set(o,r,a,f);return h&&l==s++&&t[R](d),h}function p(o,r,a,f){if(!Array.isArray(o))throw Error("This object used to be an array.  Expected an array.");if(r==="length"){Ee(a)||(o.length=a);const d=o.length,l=parseInt(a,10);if(l<d){const h=Object.freeze(o.slice(l,d)),u={type:"arrayshorten",target:o,name:r,oldLength:d,newLength:l,removed:h,timestamp:new Date},w=Reflect.set(o,r,a,f);return t[R](u),++s,w}}if(ee(r)){const d=parseInt(r,10);if(d>=o.length){const l={type:"arrayextend",target:o,name:r,oldLength:o.length,newIndex:d,newValue:a,timestamp:new Date},h=Reflect.set(o,r,a,f);return t[R](l),++s,h}}return c(o,r,a,f)}function y(o,r){const a={type:"delete",target:o,name:r,oldValue:e[r],timestamp:new Date},f=Reflect.deleteProperty(o,r);return f&&t[R](a),f}let b=c,g=n;if(Array.isArray(e)&&(b=p,t.options.trackHistory&&(g=i)),Ae(e))throw Error("Tracking of exotic arguments objects not supported");return{get:g,set:b,deleteProperty:y}}function j(e){return typeof e=="object"&&!!e[$]}var Te=class{get sizeBound(){return this.#e}#e=0;get generation(){return this.#t}#t=0;items=new Map;registry=new FinalizationRegistry(e=>{--this.#e,this.items.delete(e),++this.#t});add(e){this.registry.register(e,this.#e),this.items.set(this.#e++,new WeakRef(e)),++this.#t}*[Symbol.iterator](){for(const e of this.items.values()){const t=e.deref();t&&(yield t)}}},M=v?new Te:null,se=class{object;prop;#e=new Set;#t=!1;get subscribers(){return this.#e}constructor(e,t){!j(e)&&e[D]&&(e=e[D]),this.object=e,this.prop=t,M?.add(this)}subscribe(e){return this.#e.add(e),{dispose:()=>this.#e.delete(e)}}notifySubscribers(){this.#t&&console.warn(`Re-entrant property subscription for '${String(this.prop)}'`);const e=Array.from(this.#e);this.#t=!0;for(const t of e)t.notifySubscribers(this);this.#t=!1}get current(){return this.object[this.prop]}set current(e){this.object[this.prop]=e}},oe=new WeakMap;function x(e,t){let n=oe.get(e);n||oe.set(e,n=new Map);let i=n.get(t);return i||n.set(t,i=new se(e,t)),i}var Pe=class{#e=new Map;#t;#n=!1;#r=new Set;active=!0;constructor(e){this.#t=e}get trackedProperties(){return Array.from(this.#e.keys())}addDependency(e){if(this.active&&!this.#n){if(this.#e.has(e))return;const t=e.subscribe(this);this.#e.set(e,t)}}subscribe(e){return this.#r.add(e),{dispose:()=>this.#r.delete(e)}}notifySubscribers(e){const t=Array.from(this.#r);for(const n of t)n(e)}endDependencyTrack(){this.#t.endDependencyTrack(this)}trackAllChanges(){if(this.#n)return;this.untrackAll();const e=x(this.#t,"history");this.addDependency(e),this.#n=!0}untrackAll(){for(const e of this.#e.values())e.dispose();this.#e.clear()}};function Oe({operations:e}){for(let t=0;t<e.length;){const n=e[t];if(n.type==="transaction")e.splice(t,1,...n.operations);else if(n.type==="change"&&Object.is(n.oldValue,n.newValue))e.splice(t,1);else if(t>0){const i=e[t-1];if(i.type==="transaction")throw Error("Internal mutraction error.  Found internal transaction on look-back during packTransaction.");i.target!==n.target||i.name!==n.name?++t:i.type==="create"&&n.type==="change"?e.splice(--t,2,{...i,newValue:n.newValue}):i.type==="create"&&n.type==="delete"?e.splice(--t,2):i.type==="change"&&n.type==="change"?e.splice(--t,2,{...i,newValue:n.newValue}):i.type==="change"&&n.type==="delete"?e.splice(--t,2,{...n,oldValue:i.oldValue}):i.type==="delete"&&n.type==="create"?e.splice(--t,2,{...n,...i,type:"change"}):++t}else++t}}var ie={trackHistory:!0,autoTransactionalize:!0,compactOnCommit:!0},ae=class{#e;#t;#n=[];#r=!1;#s=[];options=ie;#o;constructor(e={}){this.setOptions(e)}setOptions(e={}){if(this.#r)throw Error("Cannot change options for a tracker that has already started tracking");e.trackHistory===!1&&(e.compactOnCommit=!1,e.autoTransactionalize??=!1);const t={...ie,...e};if(t.compactOnCommit&&!t.trackHistory)throw Error("Option compactOnCommit requires option trackHistory");t.trackHistory?this.#t=[]:this.#t=void 0,this.options=Object.freeze(t)}track(e){if(j(e))throw Error("Object already tracked");if(this.#r=!0,!B)throw Error("This object type cannot be proxied");const t=new Proxy(e,U(e,this));return te(e,t),t}trackAsReadonlyDeep(e){return this.track(e)}#a(){if(!this.options.trackHistory)throw Error("History tracking disabled.")}get history(){if(this.#a(),this.#s[0]?.trackAllChanges(),this.#o??=x(this,"history"),!this.#t)throw Error("History tracking enabled, but no root transaction. Probably mutraction internal error.");return this.#t}startTransaction(e){return this.#e={type:"transaction",parent:this.#e,operations:[],dependencies:new Set,timestamp:new Date},e&&(this.#e.transactionName=e),this.#e}commit(e){if(!this.#e)throw Error("Attempted to commit transaction when none were open.");if(e&&e!==this.#e)throw Error("Attempted to commit wrong transaction. Transactions must be resolved in stack order.");if(this.options.compactOnCommit&&Oe(this.#e),this.#e.parent)this.#e.parent.operations.push(this.#e),this.#e.dependencies.forEach(t=>this.#e.parent.dependencies.add(t)),this.#e=this.#e.parent;else{this.#t?.push(this.#e);const t=new Set;for(const n of this.#e.dependencies)for(const i of n.subscribers)t.add(i);for(const n of t)n.notifySubscribers();this.#e=void 0}this.#e==null&&this.#o?.notifySubscribers()}rollback(e){if(e&&e!==this.#e)throw Error("Attempted to commit wrong transaction. Transactions must be resolved in stack order.");if(this.#e){for(;this.#e.operations.length;)this.undo();this.#e=this.#e.parent}else for(;this.#t?.length;)this.undo()}undo(){this.#a();const e=(this.#e?.operations??this.#t).pop();e&&(this.#l(e),this.#n.unshift(e),this.#e==null&&this.#o?.notifySubscribers())}#l(e){if(e.type==="transaction")for(let t=e.operations.length;t-- >0;)this.#l(e.operations[t]);else{const t=e.target;switch(e.type){case"change":case"delete":t[e.name]=e.oldValue;break;case"create":delete t[e.name];break;case"arrayextend":t.length=e.oldLength;break;case"arrayshorten":t.push(...e.removed);break;default:}this.#e||(x(e.target,e.name).notifySubscribers(),(e.type==="arrayextend"||e.type==="arrayshorten")&&x(e.target,"length").notifySubscribers())}}redo(){this.#a();const e=this.#n.shift();e&&(this.#f(e),(this.#e?.operations??this.#t).push(e),this.#e==null&&this.#o?.notifySubscribers())}#f(e){if(e.type==="transaction")for(const t of e.operations)this.#f(t);else{const t=e.target;switch(e.type){case"change":case"create":t[e.name]=e.newValue;break;case"delete":delete t[e.name];break;case"arrayextend":t[e.newIndex]=e.newValue;break;case"arrayshorten":t.length=e.newLength;break;default:}this.#e||(x(e.target,e.name).notifySubscribers(),(e.type==="arrayextend"||e.type==="arrayshorten")&&x(e.target,"length").notifySubscribers())}}clearRedos(){this.#n.length=0}clearHistory(){this.#a(),this.#e=void 0,this.#t.length=0,this.clearRedos()}[R](e){this.options.trackHistory&&(v&&(e.targetPath=L(e.target)),(this.#e?.operations??this.#t).push(Object.freeze(e))),this.clearRedos(),this.#e?(this.#e.dependencies.add(x(e.target,e.name)),(e.type==="arrayextend"||e.type==="arrayshorten")&&this.#e.dependencies.add(x(e.target,"length"))):(x(e.target,e.name).notifySubscribers(),(e.type==="arrayextend"||e.type==="arrayshorten")&&x(e.target,"length").notifySubscribers(),this.#o?.notifySubscribers())}ignoreUpdates(e){const t=this.startDependencyTrack();t.active=!1,e(),t.endDependencyTrack()}startDependencyTrack(){const e=new Pe(this);return this.#s.unshift(e),e}endDependencyTrack(e){if(this.#s[0]!==e)throw Error("Specified dependency list is not top of stack");return this.#s.shift(),e}[Y](e){this.#c?this.#i=e:this.#s[0]?.addDependency(e)}#c=!1;#i=void 0;getPropRef(e){const t=this.getPropRefTolerant(e);if(!t)throw Error("No tracked properties.  Prop ref detection requires a tracked object.");return t}getPropRefTolerant(e){if(this.#c)throw Error("Cannot be called re-entrantly.");this.#c=!0,this.#i=void 0;try{const t=e();if(!this.#i)return;const n=this.#i.current;return Object.is(t,n)||console.error("The last operation of the callback must be a property get.\n`(foo || bar).quux` is allowed, but `foo.bar + 1` is not"),this.#i}finally{this.#c=!1}}},F=new ae;function Re(e){return F.track(e)}var De={dispose:()=>{}},G=0;function S(e,t={}){const{tracker:n=F,suppressUntrackedWarning:i=!1}=t;let s=n.startDependencyTrack(),c;try{c=e(s)}finally{s.endDependencyTrack()}if(s.trackedProperties.length===0)return i||console.warn("effect() callback has no dependencies on any tracked properties.  It will not fire again."),De;++G;let p=s.subscribe(b);const y=()=>{s.untrackAll(),p.dispose(),--G};function b(g){typeof c=="function"&&c(),y(),s=n.startDependencyTrack(),c=e(s,g),s.endDependencyTrack(),p=s.subscribe(b),++G}return{dispose:y}}var q=new WeakMap;function O(e,t){const n=q.get(e);n?n.push(t):q.set(e,[t])}function W(e){q.get(e)?.forEach(n=>n.dispose()),e instanceof Element&&e.childNodes.forEach(n=>W(n))}var N={suppressUntrackedWarning:!0};function Ce(e){return e!=null&&typeof e=="object"&&"$muType"in e&&typeof e.$muType=="string"}function ce(e,t){if(Array.isArray(t)){t.forEach(n=>ce(e,n));return}if(!Ce(t))throw Error("Expected a node modifier for 'mu:apply', but got "+typeof t);switch(t.$muType){case"attribute":e.setAttribute(t.name,t.value);break;default:throw Error("Unknown node modifier type: "+t.$muType)}}var J=new WeakMap;function P(e,t){let n=J.get(e);n||J.set(e,n=[]),n.push(t)}function le(e){return J.get(e)}function Me(e,t,n,...i){const s=document.createElement(e);s.append(...i);let c,p=!1,y=0,b=!1;for(let[o,r]of Object.entries(t))switch(o){case"mu:syncEvent":c=r;break;case"mu:apply":ce(s,r);break;case"mu:diagnostic":p=!0;break;default:s[o]=r;break}p&&console.trace(`[mu:diagnostic] Creating ${e}`);const g=c?[]:void 0;for(let[o,r]of Object.entries(n)){if(g&&o in s){const a=F.getPropRefTolerant(r);a&&g.push([o,a])}switch(o){case"style":{const f=S(p?function(l,h){b&&console.trace(`[mu:diagnostic] Updating ${e}`,{attribute:o,trigger:h,updates:++y}),Object.assign(s.style,r()),v&&P(s,l)}:function(l){Object.assign(s.style,r()),v&&P(s,l)},N);O(s,f);break}case"classList":{const f=S(p?function(l,h){b&&console.trace(`[mu:diagnostic] Updating ${e}`,{attribute:o,trigger:h,updates:++y});const u=r();for(const[w,T]of Object.entries(u))s.classList.toggle(w,!!T);v&&P(s,l)}:function(l){const h=r();for(const[u,w]of Object.entries(h))s.classList.toggle(u,!!w);v&&P(s,l)},N);O(s,f);break}default:{const f=S(p?function(l,h){b&&console.trace(`[mu:diagnostic] Updating ${e}`,{attribute:o,trigger:h,updates:++y}),s[o]=r(),v&&P(s,l)}:function(l){s[o]=r(),v&&P(s,l)},N);O(s,f);break}}}if(c&&g?.length)for(const o of c.matchAll(/\S+/g))s.addEventListener(o[0],()=>{for(const[r,a]of g)a.current=s[r]});return b=!0,s}function Le(e){let t=document.createTextNode(""),n;return n=S(function(s){const c=e();if(c instanceof Node)s.untrackAll(),t=c;else{const p=document.createTextNode(String(c??""));n&&O(p,n),t.replaceWith(p),t=p,v&&P(t,s)}},N),O(t,n),t}var E=class{static id=0;startMarker=document.createTextNode("");endMarker=document.createTextNode("");constructor(...e){document.createDocumentFragment().append(this.startMarker,...e,this.endMarker)}removeAsFragment(){if(this.startMarker.parentNode instanceof DocumentFragment)return this.startMarker.parentNode;const e=[];for(let n=this.startMarker;;n=n?.nextSibling){if(n==null)throw Error("End marker not found as subsequent document sibling as start marker");if(e.push(n),Object.is(n,this.endMarker))break}const t=document.createDocumentFragment();return t.append(...e),t}emptyAsFragment(){const e=[];for(let n=this.startMarker.nextSibling;;n=n?.nextSibling){if(n==null)throw Error("End marker not found as subsequent document sibling as start marker");if(Object.is(n,this.endMarker))break;e.push(n)}const t=document.createDocumentFragment();return t.append(...e),t}replaceWith(...e){this.emptyAsFragment(),this.append(...e)}append(...e){const t=document.createDocumentFragment();if(t.append(...e),!this.endMarker.parentNode)throw Error("End marker of ElementSpan has no parent");this.endMarker.parentNode.insertBefore(t,this.endMarker)}registerCleanup(e){O(this.startMarker,e)}cleanup(){W(this.startMarker);for(const e of this.emptyAsFragment().childNodes)W(e)}};function fe(e){return e!=null&&typeof e=="object"&&"node"in e&&e.node instanceof Node}function K(e){const t=new E;let n;const i=S(function(c){n?.(),n=void 0,t.cleanup();const p=e();fe(p)?(t.replaceWith(p.node),n=p.cleanup):p!=null&&t.replaceWith(p)});return t.registerCleanup(i),t.removeAsFragment()}var I={suppressUntrackedWarning:!0};function pe(e,t){if(typeof e=="function")return K(()=>pe(e(),t));const n=new E,i=[],s=e??[],c=S(function(b){for(let g=i.length;g<s.length;g++){const o={container:new E};i.push(o),o.subscription=S(function(a){o.cleanup?.(),o.container.cleanup();const f=s[g],d=f!==void 0?t(f,g,s):document.createTextNode("");fe(d)?(o.container.replaceWith(d.node),o.cleanup=d.cleanup):d!=null&&(o.container.replaceWith(d),o.cleanup=void 0)},I),n.append(o.container.removeAsFragment())}for(;i.length>s.length;)p(i.pop())},I);return n.registerCleanup({dispose(){i.forEach(p)}}),n.registerCleanup(c),n.removeAsFragment();function p({cleanup:y,container:b,subscription:g}){y?.(),g?.dispose(),b.removeAsFragment(),b.cleanup()}}function ue(e,t){if(typeof e=="function")return K(()=>ue(e(),t));const n=new E,i=[],s=new WeakMap,c=e??[],p=S(function(g){for(let o=i.length;o<c.length;o++){const r=new E;i.push(r),S(function(f){r.emptyAsFragment();const d=c[o];if(d==null)return;if(typeof d!="object")throw Error("Elements must be object in ForEachPersist");let l=s.get(d);if(l==null){f&&(f.active=!1);try{const h=t(d);l=h instanceof HTMLElement?h:new E(h),s.set(d,l)}finally{f&&(f.active=!0)}}l instanceof HTMLElement?r.replaceWith(l):l!=null&&r.replaceWith(l.removeAsFragment())},I),n.append(r.removeAsFragment())}for(;i.length>c.length;)y(i.pop())},I);return n.registerCleanup({dispose(){i.forEach(y)}}),n.registerCleanup(p),n.removeAsFragment();function y(b){b.removeAsFragment(),b.cleanup()}}var je={suppressUntrackedWarning:!0};function _(){return document.createTextNode("")}function Fe(...e){let t=_(),n=_;return S(function(){let s;for(const{nodeGetter:c,conditionGetter:p}of e)if(!p||p()){s=c;break}if(s??=_,s!==n){W(t),n=s;const c=n();t.replaceWith(c),t=c}},je),t}function We(e){return document.createTextNode(String(e))}function Ne(e,t=document.createTextNode(""),n=We){const i=new E(t);return e.then(s=>i.replaceWith(s)),e.catch(s=>i.replaceWith(typeof n=="function"?n(s):n)),i.removeAsFragment()}var de=new WeakMap;function Ie(...e){if(e.some(c=>"pattern"in c&&c.pattern instanceof RegExp&&c.pattern.global))throw Error("Global-flagged route patterns not supported");const t=new E;let n,i=!1;function s(c){const{hash:p}=new URL(c);for(const y of e){let b,g=!1;if("pattern"in y?typeof y.pattern=="string"?g=p===y.pattern:g=!!(b=y.pattern.exec(p)??void 0):g=!0,g){i?n?.cleanup():n?.removeAsFragment(),n=void 0;const{element:o}=y;i=typeof o=="function";const r=typeof o=="function"?o(b):o;if(r instanceof DocumentFragment){let a=de.get(r);a||de.set(r,a=new E(r)),n=a,t.replaceWith(a.removeAsFragment())}else n=void 0,t.replaceWith(r);y.suppressScroll||window.scrollTo(0,0);return}}t.emptyAsFragment()}return window.addEventListener("hashchange",c=>s(c.newURL)),s(location.href),t.removeAsFragment()}var he="data-mu-style",He=String(Math.random()*1e6|0),$e=0;function ze(e){const t=new CSSStyleSheet,n=He+"-"+ ++$e;for(const[i,s]of Object.entries(e)){const c=`[${he}="${n}"]`,p=`${c}:is(${i}), ${c} :is(${i}) {}`;t.insertRule(p,0);const y=t.cssRules.item(0);Object.assign(y.style,s)}return document.adoptedStyleSheets.push(t),{$muType:"attribute",name:he,value:n}}function Be(e,t=10){return Q(e,t)}function Q(e,t){if(t<0)throw Error("Maximum depth exceeded.  Maybe there's a reference cycle?");if(typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>Q(i,t-1));if(e.constructor&&e.constructor!==Object)throw Error("Can't clone objects with a prototype chain or instances of classes");return Object.fromEntries(Object.entries(e).map(([n,i])=>[n,Q(i,t-1)]))}var Ue="0.22.4";export{pe as ForEach,ue as ForEachPersist,Ne as PromiseLoader,se as PropReference,Ie as Router,K as Swapper,ae as Tracker,Le as child,Fe as choose,x as createOrRetrievePropRef,F as defaultTracker,S as effect,Me as element,j as isTracked,ze as makeLocalStyle,Re as track,Be as untrackedClone,Ue as version};
